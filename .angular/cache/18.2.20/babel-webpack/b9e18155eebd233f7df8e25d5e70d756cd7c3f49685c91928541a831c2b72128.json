{"ast":null,"code":"import { brands } from '../../core/data/brands';\nimport { AddBrandToFilter, RemoveBrandFromFilter } from '../../store/brand-filter/brand-filter.action';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/common\";\nfunction BrandFilterComponent_div_0_li_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 5)(1, \"label\", 6);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementStart(3, \"input\", 7);\n    i0.ɵɵlistener(\"input\", function BrandFilterComponent_div_0_li_5_Template_input_input_3_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.onChangeSelectBox($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"span\", 8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const brand_r3 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", brand_r3, \" (\", ctx_r1.brandItemsCount[brand_r3], \") \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"name\", brand_r3);\n  }\n}\nfunction BrandFilterComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"h3\");\n    i0.ɵɵtext(3, \"Brands\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"ul\", 3);\n    i0.ɵɵtemplate(5, BrandFilterComponent_div_0_li_5_Template, 5, 3, \"li\", 4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.brands);\n  }\n}\nexport let BrandFilterComponent = /*#__PURE__*/(() => {\n  class BrandFilterComponent {\n    store;\n    brands = brands;\n    brandItemsCount;\n    constructor(store) {\n      this.store = store;\n    }\n    ngOnInit() {\n      this.store.select('shop').subscribe(shop => {\n        const counts = {};\n        shop.products.forEach(p => {\n          counts[p.brand] = counts[p.brand] + 1 || 1;\n        });\n        this.brandItemsCount = counts;\n      });\n    }\n    onChangeSelectBox(e) {\n      const name = e.target.name;\n      const value = e.target.checked;\n      if (value) {\n        this.store.dispatch(new AddBrandToFilter(name));\n      } else {\n        this.store.dispatch(new RemoveBrandFromFilter(name));\n      }\n    }\n    static ɵfac = function BrandFilterComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || BrandFilterComponent)(i0.ɵɵdirectiveInject(i1.Store));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: BrandFilterComponent,\n      selectors: [[\"app-brand-filter\"]],\n      decls: 1,\n      vars: 1,\n      consts: [[\"class\", \"card mb-3\", 4, \"ngIf\"], [1, \"card\", \"mb-3\"], [1, \"card-header\"], [1, \"list-group\", \"flex-row\", \"flex-wrap\"], [\"class\", \"list-group-item flex-50\", 4, \"ngFor\", \"ngForOf\"], [1, \"list-group-item\", \"flex-50\"], [1, \"custom-checkbox\", \"text-capitalize\"], [\"type\", \"checkbox\", 1, \"custom-checkbox__input\", 3, \"input\", \"name\"], [1, \"custom-checkbox__span\"]],\n      template: function BrandFilterComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, BrandFilterComponent_div_0_Template, 6, 1, \"div\", 0);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", ctx.brandItemsCount);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf],\n      styles: [\".custom-checkbox[_ngcontent-%COMP%]{display:block;position:relative;padding-left:2rem;cursor:pointer;-webkit-user-select:none;user-select:none}.custom-checkbox__input[_ngcontent-%COMP%]{position:absolute;opacity:0;height:0;width:0}.custom-checkbox__span[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;transform:translateY(-50%);height:1.2rem;width:1.2rem;background-color:#fff;border:2px solid gray}.custom-checkbox__span[_ngcontent-%COMP%]:after{content:\\\"\\\";opacity:0;position:absolute;top:50%;left:50%;width:.6rem;height:.6rem;background-color:#1e90ff;transform:translate(-50%,-50%)}.custom-checkbox[_ngcontent-%COMP%]:hover   .custom-checkbox__span[_ngcontent-%COMP%]{background-color:#eee}.custom-checkbox__input[_ngcontent-%COMP%]:checked + .custom-checkbox__span[_ngcontent-%COMP%]:after{opacity:1}.flex-50[_ngcontent-%COMP%]{flex:0 0 100%}@media only screen and (max-width: 768px){.flex-50[_ngcontent-%COMP%]{flex:0 0 50%}}\"]\n    });\n  }\n  return BrandFilterComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}