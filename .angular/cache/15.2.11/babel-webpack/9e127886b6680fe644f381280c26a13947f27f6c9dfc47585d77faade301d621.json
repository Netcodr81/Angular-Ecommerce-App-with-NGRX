{"ast":null,"code":"import { brandPurePipe } from '../../core/pure-pipes/brand.pure.pipe';\nimport { orderByPricePurePipe } from '../../core/pure-pipes/order-by-price.pure.pipe';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../core/layout-mode/layout-mode.component\";\nimport * as i4 from \"../../pagination/pagination/pagination.component\";\nimport * as i5 from \"../product/product.component\";\nimport * as i6 from \"../../pagination/pagination.pipe\";\nfunction ProductListComponent_ng_container_0_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵelement(1, \"app-product\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.colValue);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"product\", product_r2);\n  }\n}\nconst _c0 = function (a0, a1) {\n  return {\n    perPage: a0,\n    currentPage: a1\n  };\n};\nfunction ProductListComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"span\", 5);\n    i0.ɵɵtext(6, \"Change Layout: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"app-layout-mode\", 6);\n    i0.ɵɵlistener(\"changeLayout\", function ProductListComponent_ng_container_0_Template_app_layout_mode_changeLayout_7_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onChangeLayout($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"app-layout-mode\", 7);\n    i0.ɵɵlistener(\"changeLayout\", function ProductListComponent_ng_container_0_Template_app_layout_mode_changeLayout_8_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.onChangeLayout($event));\n    });\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(9, \"div\", 8);\n    i0.ɵɵtemplate(10, ProductListComponent_ng_container_0_div_10_Template, 2, 2, \"div\", 9);\n    i0.ɵɵpipe(11, \"pagination\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 10)(13, \"app-pagination\", 11);\n    i0.ɵɵlistener(\"prev\", function ProductListComponent_ng_container_0_Template_app_pagination_prev_13_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.prev($event));\n    })(\"goPage\", function ProductListComponent_ng_container_0_Template_app_pagination_goPage_13_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.goToPage($event));\n    })(\"next\", function ProductListComponent_ng_container_0_Template_app_pagination_next_13_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.next($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"isActive\", ctx_r0.gridValue === 3)(\"len\", 3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"isActive\", ctx_r0.gridValue === 4)(\"len\", 4);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(11, 9, ctx_r0.products, i0.ɵɵpureFunction2(12, _c0, ctx_r0.perPage, ctx_r0.currentPage)));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"currentPage\", ctx_r0.currentPage)(\"pagesToShow\", ctx_r0.pagesToShow)(\"totalItemsCount\", ctx_r0.products.length)(\"perPage\", ctx_r0.perPage);\n  }\n}\nexport let ProductListComponent = /*#__PURE__*/(() => {\n  class ProductListComponent {\n    constructor(store) {\n      this.store = store;\n      this.colValue = 'col-lg-4';\n      this.gridValue = 3;\n      this.perPage = 12;\n      this.currentPage = 1;\n      this.pagesToShow = 3;\n    }\n    ngOnInit() {\n      this.store.select(state => {\n        return state;\n      }).subscribe(state => {\n        const brands = state.brandFilter;\n        const orderBy = state.orderBy;\n        const filterByBrandArr = brandPurePipe(state.shop.products, brands);\n        const filterByOrderArr = orderByPricePurePipe(filterByBrandArr, orderBy);\n        console.log(state);\n        this.products = filterByOrderArr;\n        console.log(this);\n      });\n    }\n    onChangeLayout(n) {\n      this.gridValue = n;\n      if (n === 4) {\n        this.colValue = `col-lg-${3}`;\n      } else {\n        this.colValue = `col-lg-${4}`;\n      }\n    }\n    trackProductById(index, product) {\n      return product.id;\n    }\n    next() {\n      this.currentPage++;\n    }\n    prev() {\n      if (this.currentPage === 1) return;\n      this.currentPage--;\n    }\n    goToPage(loc) {\n      this.currentPage = loc;\n    }\n  }\n  ProductListComponent.ɵfac = function ProductListComponent_Factory(t) {\n    return new (t || ProductListComponent)(i0.ɵɵdirectiveInject(i1.Store));\n  };\n  ProductListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductListComponent,\n    selectors: [[\"app-product-list\"]],\n    decls: 1,\n    vars: 1,\n    consts: [[4, \"ngIf\"], [1, \"row\", \"mb-3\"], [1, \"col-12\", \"d-none\", \"d-lg-block\", \"d-xl-block\"], [1, \"card\"], [1, \"card-header\", \"d-flex\", \"justify-content-end\"], [1, \"mr-3\"], [2, \"margin-right\", \".8rem\", 3, \"isActive\", \"len\", \"changeLayout\"], [3, \"isActive\", \"len\", \"changeLayout\"], [1, \"row\"], [\"class\", \"col-md-6 mb-4\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"justify-content-end\"], [3, \"currentPage\", \"pagesToShow\", \"totalItemsCount\", \"perPage\", \"prev\", \"goPage\", \"next\"], [1, \"col-md-6\", \"mb-4\", 3, \"ngClass\"], [3, \"product\"]],\n    template: function ProductListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ProductListComponent_ng_container_0_Template, 14, 15, \"ng-container\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.products);\n      }\n    },\n    dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i3.LayoutModeComponent, i4.PaginationComponent, i5.ProductComponent, i6.PaginationPipe]\n  });\n  return ProductListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}